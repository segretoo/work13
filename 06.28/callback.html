<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        console.log(1);
        //setTimeout(code, delay): delay시간동안 기다렸다가 code를 실행
        setTimeout(function() {
            console.log(2);
        }, 3000);
        console.log(3);


        //문제점이 있는 코드
        function goMart() {
            console.log('what kind of drink shoul I buy?');
        }

        function pickDrink() {
            setTimeout( () => {
                console.log('I guess');
                product = 'coke zero';
                price = 3000;
            }, 3000);
        }

        function pay(product, price) {
            console.log(`product: ${product}, price: ${price}`);
        }

        let product;
        let price;
        goMart();
        pickDrink();
        pay(product, price);

        //콜백 함수 생김새
        //콜백 함수는 함수타입 파라미터 맨 마지막에 하나 더 선언
        //함수가 실행을 끝낸 후 실행되는 함수
        function mainFunc(param1, param2, callback) {
            console.log(param1);
            console.log(param2);
            callback();
        }
        function callbackFunc() {
            console.log('This is callback function');
        }

        mainFunc(1, 2, callbackFunc);

        //콜백을 사용하는 이유
        // 1. 비동기 작업의 완료를 처리하기 위해
        // 2. 비동기 작업의 순서를 제어하기 위해
        // 3. 이벤트기반 프로그래밍을 지원하기 위해

        //콜백함수사용
        function goMart() {
            console.log('what kind of drink shoul I buy?');
        }

        function pickDrink(cb) {
            setTimeout( () => {
                console.log('I guess');
                product = 'coke zero';
                price = 3000;
                cb(product, price);
            }, 3000);
        }

        function payCallback(product, price) {
            console.log(`product: ${product}, price: ${price}`);
        }

        let product;
        let price;
        goMart();
        pickDrink(payCallback);
        //익명함수 방법
        pickDrink(function (product, price) {
            console.log(`product: ${product}, price: ${price}`);
        })


        const str = 'hello world';
        function hello() {
            console.log();
        }
        hello(str);

        const hi = (bbb) => {
            console.log(bbb);
        };
        hi(str);
    </script>
</body>
</html>